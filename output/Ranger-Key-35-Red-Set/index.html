<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoKaiKeys.pdf</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f5f3eb;
            color: #333;
            min-height: 100vh;
        }
        header {
            background: #fff;
            padding: 0.75rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid #ddd;
        }
        h1 { font-size: 1.25rem; font-weight: 600; color: #333; }
        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        .controls label {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            cursor: pointer;
            font-size: 0.85rem;
        }
        .btn {
            background: #4a5568;
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            font-size: 0.85rem;
        }
        .btn:hover { background: #2d3748; }
        .btn-primary { background: #3182ce; }
        .btn-primary:hover { background: #2c5282; }

        .container {
            display: flex;
            height: calc(100vh - 50px);
        }

        /* Left panel - Page viewer */
        .page-panel {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            background: #eae8e0;
        }
        .page {
            position: relative;
            margin-bottom: 1.5rem;
            background: #fff;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .page img {
            width: 100%;
            display: block;
            border-radius: 4px;
        }
        .overlay {
            position: absolute;
            background: rgba(255,255,255,0.85);
            padding: 2px;
            font-size: 10px;
            line-height: 1.15;
            color: #000;
            cursor: pointer;
            transition: all 0.15s;
            border: 1px solid transparent;
            overflow: hidden;
            white-space: pre-wrap;
            word-break: break-word;
        }
        .overlay:hover, .overlay.highlight {
            background: rgba(255,248,220,0.98);
            border-color: #d69e2e;
            z-index: 20;
        }
        .overlay.highlight {
            box-shadow: 0 0 0 2px #d69e2e;
        }
        .page-label {
            position: absolute;
            bottom: 8px;
            right: 8px;
            background: rgba(0,0,0,0.6);
            color: #fff;
            padding: 3px 10px;
            border-radius: 3px;
            font-size: 0.8rem;
        }

        /* Right panel - Text list */
        .text-panel {
            width: 380px;
            min-width: 320px;
            background: #fff;
            border-left: 1px solid #ddd;
            display: flex;
            flex-direction: column;
        }
        .text-panel-header {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #eee;
            background: #fafafa;
        }
        .text-panel-header h2 {
            font-size: 0.9rem;
            font-weight: 600;
            color: #555;
        }
        .page-nav {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
            flex-wrap: wrap;
        }
        .page-nav button {
            padding: 0.25rem 0.5rem;
            font-size: 0.75rem;
            background: #eee;
            border: 1px solid #ddd;
            border-radius: 3px;
            cursor: pointer;
        }
        .page-nav button:hover { background: #ddd; }
        .page-nav button.active { background: #3182ce; color: white; border-color: #3182ce; }

        .text-list {
            flex: 1;
            overflow-y: auto;
            padding: 0.5rem;
        }
        .text-entry {
            padding: 0.6rem 0.75rem;
            margin-bottom: 0.4rem;
            background: #fafafa;
            border-radius: 4px;
            border: 1px solid #eee;
            cursor: pointer;
            transition: all 0.15s;
        }
        .text-entry:hover, .text-entry.highlight {
            background: #fffbeb;
            border-color: #d69e2e;
        }
        .text-entry.highlight {
            box-shadow: 0 0 0 2px #d69e2e;
        }
        .original {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 0.25rem;
            padding-bottom: 0.25rem;
            border-bottom: 1px dashed #ddd;
        }
        .translated {
            font-size: 0.85rem;
            color: #222;
        }
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <header>
        <div style="display: flex; align-items: center; gap: 0.5rem;">
            <a href="../index.html" class="btn" style="background: #718096;">â† Back</a>
            <h1>GoKaiKeys.pdf</h1>
        </div>
        <div class="controls">
            <label>
                <input type="checkbox" id="showOverlays" checked>
                Show Overlays
            </label>
            <a href="https://toy.bandai.co.jp/manuals/?prod_name=&p_id=1&release_date=&t_id=&jan_code=" target="_blank" rel="noopener" class="btn" style="background: #2d3748;">ğŸ“„ Original</a>
            <a href="translations.json" class="btn">JSON</a>
        </div>
    </header>

    <div class="container">
        <div class="page-panel" id="pagePanel"></div>
        <div class="text-panel">
            <div class="text-panel-header">
                <h2>Translations</h2>
                <div class="page-nav" id="pageNav"></div>
            </div>
            <div class="text-list" id="textList"></div>
        </div>
    </div>

    <script>
        const data = {"meta": {"source": "GoKaiKeys.pdf", "source_lang": "ja", "target_lang": "en", "source_url": "https://toy.bandai.co.jp/manuals/?prod_name=&p_id=1&release_date=&t_id=&jan_code="}, "pages": [{"image": "pages/page-0.webp", "blocks": [{"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ 35ãƒ¬ãƒƒãƒ‰ã‚»ãƒƒãƒˆ\nMEMORIAL EDITION\nUSER MANUAL", "translated": "Ranger Key 35 Red Set\nMEMORIAL EDITION\nUSER MANUAL", "bounds": {"x": 0.0252, "y": 0.0351, "w": 0.3382, "h": 0.1155}}, {"original": "ã‚»ãƒƒãƒˆå†…å®¹", "translated": "Set contents", "bounds": {"x": 0.0941, "y": 0.2116, "w": 0.0898, "h": 0.0236}}, {"original": "å–æ‰±èª¬æ˜æ›¸ (æœ¬æ›¸)......1", "translated": "Instruction Manual (this manual)......1", "bounds": {"x": 0.0902, "y": 0.2757, "w": 0.0966, "h": 0.0139}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼......å„1", "translated": "Ranger Key...1 each", "bounds": {"x": 0.0932, "y": 0.3017, "w": 0.0923, "h": 0.0121}}, {"original": "(ã‚¢ã‚«ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ãƒ»ã‚¹ãƒšãƒ¼ãƒ‰ã‚¨ãƒ¼ã‚¹ãƒ»ãƒãƒˆãƒ«ã‚¸ãƒ£ãƒ‘ãƒ³", "translated": "(Akaranger, Spade Ace, Battle Japan", "bounds": {"x": 0.0393, "y": 0.3271, "w": 0.1992, "h": 0.0121}}, {"original": "ãƒ»ãƒ‡ãƒ³ã‚¸ãƒ¬ãƒƒãƒ‰ãƒ»ãƒãƒ«ã‚¤ãƒ¼ã‚°ãƒ« ã‚´ãƒ¼ã‚°ãƒ«ãƒ¬ãƒƒãƒ‰", "translated": "ãƒ»Denji Red ãƒ»Bal Eagle Goggle Red", "bounds": {"x": 0.0492, "y": 0.3525, "w": 0.1791, "h": 0.0121}}, {"original": "ãƒ€ã‚¤ãƒŠãƒ¬ãƒƒãƒ‰ãƒ»ãƒ¬ãƒƒãƒ‰ãƒ¯ãƒ³ãƒ»ãƒã‚§ãƒ³ã‚¸ãƒ‰ãƒ©ã‚´ãƒ³", "translated": "Dyna Red, Red One, Change Dragon", "bounds": {"x": 0.056, "y": 0.3773, "w": 0.171, "h": 0.0121}}, {"original": "è±ªå¿«ã«å¤‰èº«", "translated": "A spectacular transformation", "bounds": {"x": 0.5477, "y": 0.0411, "w": 0.0761, "h": 0.0218}}, {"original": "æµ·è³Šæˆ°éšŠ", "translated": "pirate squad", "bounds": {"x": 0.4074, "y": 0.0665, "w": 0.0308, "h": 0.0091}}, {"original": "ã‚´ãƒ¼ã‚«ã‚¤ã‚¸", "translated": "Gokaiji", "bounds": {"x": 0.3784, "y": 0.0774, "w": 0.0684, "h": 0.0296}}, {"original": "â€»ã‚¢ã‚«ãƒ¬ãƒƒãƒ‰ã‚­ãƒ¼ã‚’ä¾‹ã«èª¬æ˜ã—ã¾ã™ã€‚", "translated": "*We will use the Aka Red Key as an example.", "bounds": {"x": 0.6708, "y": 0.0411, "w": 0.1022, "h": 0.0091}}, {"original": "â€»åˆ¥å£²ã‚Šã®ãƒ¢ãƒã‚¤ãƒ¬ãƒ¼ãƒ„ MEMORIAL EDITION- ã‚’ä½¿ç”¨ã—ã€ ã€Œé€šå¸¸å¤‰èº«ãƒ¢ãƒ¼ãƒ‰ã€ã®çŠ¶æ…‹ã§è¡Œã„ã¾ã™ã€‚", "translated": "*Use the separately sold Mobirates MEMORIAL EDITION and perform this in \"normal transformation mode.\"", "bounds": {"x": 0.6708, "y": 0.0544, "w": 0.2847, "h": 0.0097}}, {"original": "ã‚»ãƒªãƒ•ãƒœã‚¿ãƒ³ã‚’\næŠ¼ã—ã¾ã™ã€‚", "translated": "Press the dialogue button.", "bounds": {"x": 0.5481, "y": 0.0889, "w": 0.0526, "h": 0.0278}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼", "translated": "Ranger Key", "bounds": {"x": 0.6593, "y": 0.0895, "w": 0.053, "h": 0.0109}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã‚’", "translated": "Ranger Key", "bounds": {"x": 0.7747, "y": 0.0889, "w": 0.0607, "h": 0.0115}}, {"original": "æŒ¿å…¥å£ã«", "translated": "Into the insertion slot", "bounds": {"x": 0.6575, "y": 0.1052, "w": 0.0316, "h": 0.0097}}, {"original": "90Â° ã²ã­ã‚Šã¾ã™ã€‚", "translated": "Twist 90Â°.", "bounds": {"x": 0.7734, "y": 0.1046, "w": 0.0547, "h": 0.0103}}, {"original": "Â©çŸ³æ£®ãƒ—ãƒ­ãƒ»æ±æ˜ ", "translated": "Â© Ishimori Productions, Toei", "bounds": {"x": 0.3925, "y": 0.1354, "w": 0.0599, "h": 0.0103}}, {"original": "â†’å¤‰èº«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³éŸ³ãŒ\né³´ã‚Šã¾ã™ã€‚", "translated": "â†’The transformation action sound will be played.", "bounds": {"x": 0.5481, "y": 0.1197, "w": 0.0795, "h": 0.0266}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã‚’\næŒ¿å…¥ã—ã¾ã™ã€‚", "translated": "Insert the Ranger Key.", "bounds": {"x": 0.6575, "y": 0.1185, "w": 0.0611, "h": 0.0278}}, {"original": "ã‚¯ãƒ­ã‚¹ãƒœãƒ¼ãƒ³ãŒé–‹ãã€\nã²ã­ã‚ŠéŸ³ã¨", "translated": "The crossbones open,\nwith a twisting sound.", "bounds": {"x": 0.782, "y": 0.1197, "w": 0.074, "h": 0.0248}}, {"original": "â†’æŒ¿å…¥éŸ³ãŒé³´ã‚Šã¾ã™ã€‚", "translated": "â†’ An insertion sound will be heard.", "bounds": {"x": 0.658, "y": 0.1493, "w": 0.0757, "h": 0.0121}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã‚’\næŒ¿å…¥ã—ãŸçŠ¶æ…‹ã§\nã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼ã‚’æŠ¼ã—ã¾ã™ã€‚\nãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã«", "translated": "With your Ranger Key inserted, press the Enter key.", "bounds": {"x": 0.891, "y": 0.0895, "w": 0.0898, "h": 0.0562}}, {"original": "ã€å´ç”»ã€‘", "translated": "[Side picture]", "bounds": {"x": 0.5336, "y": 0.1723, "w": 0.0231, "h": 0.0115}}, {"original": "ãƒ¢ãƒã‚¤ãƒ¬ãƒ¼ãƒ„", "translated": "Mobirates", "bounds": {"x": 0.5909, "y": 0.1759, "w": 0.0338, "h": 0.0079}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã®å¤‰å½¢æ–¹æ³•", "translated": "How to transform the Ranger Key", "bounds": {"x": 0.2877, "y": 0.1904, "w": 0.1608, "h": 0.0187}}, {"original": "è€Œè…•", "translated": "arm", "bounds": {"x": 0.2997, "y": 0.2316, "w": 0.0171, "h": 0.0109}}, {"original": "è„š", "translated": "leg", "bounds": {"x": 0.4194, "y": 0.2285, "w": 0.009, "h": 0.0109}}, {"original": "ã‚»ãƒªãƒ•\nãƒœã‚¿ãƒ³", "translated": "Dialogue button", "bounds": {"x": 0.5417, "y": 0.3398, "w": 0.0162, "h": 0.0163}}, {"original": "ãƒ´", "translated": "V", "bounds": {"x": 0.5507, "y": 0.2243, "w": 0.015, "h": 0.0175}}, {"original": "ãƒ¯ã‚¤ãƒ³!", "translated": "wine!", "bounds": {"x": 0.5643, "y": 0.2509, "w": 0.0526, "h": 0.0054}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼\næ’å…¥å£", "translated": "Ranger Key Entrance", "bounds": {"x": 0.6986, "y": 0.2479, "w": 0.0372, "h": 0.0187}}, {"original": "ã‚«ãƒ¬ãƒƒãƒ‰!", "translated": "Kared!", "bounds": {"x": 0.7743, "y": 0.2642, "w": 0.0748, "h": 0.0163}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼", "translated": "Ranger Key", "bounds": {"x": 0.7029, "y": 0.3065, "w": 0.0372, "h": 0.0085}}, {"original": "ä¼èª¬ã®èµ¤ã®æˆ¦å£«\nã‚¢ã‚«ãƒ¬ãƒƒãƒ‰!", "translated": "The legendary red warrior Akared!", "bounds": {"x": 0.8696, "y": 0.2358, "w": 0.1047, "h": 0.0411}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã«\nå¿œã˜ãŸéŸ³å£°ãŒé³´ã‚Šã¾ã™ã€‚", "translated": "A sound will be played depending on the Ranger Key.", "bounds": {"x": 0.7815, "y": 0.1499, "w": 0.0782, "h": 0.0272}}, {"original": "å¿œã˜ãŸéŸ³å£°ãŒé³´ã‚Šã¾ã™ã€‚", "translated": "The corresponding sound will be heard.", "bounds": {"x": 0.8991, "y": 0.1505, "w": 0.0787, "h": 0.0109}}, {"original": "ã‚¯ãƒ­ã‚¹\nãƒœãƒ¼ãƒ³", "translated": "Crossbone", "bounds": {"x": 0.7542, "y": 0.1747, "w": 0.0167, "h": 0.0157}}, {"original": "ãƒ»ãƒ¬ãƒƒãƒ‰ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ»ãƒ¬ãƒƒãƒ‰ãƒã‚¹ã‚¯ãƒ»ãƒ¬ãƒƒãƒ‰ãƒ•ã‚¡ãƒ«ã‚³ãƒ³", "translated": "ãƒ»Red Flash ãƒ»Red Mask ãƒ»Red Falcon", "bounds": {"x": 0.0381, "y": 0.4027, "w": 0.2018, "h": 0.0127}}, {"original": "ãƒ»ãƒ¬ãƒƒãƒ‰ã‚¿ãƒ¼ãƒœãƒ»ãƒ•ã‚¡ã‚¤ãƒ–ãƒ¬ãƒƒãƒ‰ãƒ»ãƒ¬ãƒƒãƒ‰ãƒ›ãƒ¼ã‚¯", "translated": "ãƒ»Red Turbo ãƒ»Five Red ãƒ»Red Hawk", "bounds": {"x": 0.0504, "y": 0.4274, "w": 0.1761, "h": 0.0127}}, {"original": "ãƒœã‚¿ãƒ³", "translated": "button", "bounds": {"x": 0.3472, "y": 0.4359, "w": 0.0222, "h": 0.0097}}, {"original": "ãƒ»ãƒ†ã‚£ãƒ©ãƒãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ãƒ»ãƒªãƒ¥ã‚¦ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼", "translated": "ãƒ»Tyranno Ranger ãƒ»Ryu Ranger", "bounds": {"x": 0.0633, "y": 0.4522, "w": 0.1522, "h": 0.0127}}, {"original": "ãƒ¼ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼", "translated": "-Enter key", "bounds": {"x": 0.9461, "y": 0.3694, "w": 0.0308, "h": 0.0073}}, {"original": "ç‰¹æ®ŠBGMéŠã³", "translated": "Special BGM play", "bounds": {"x": 0.5477, "y": 0.3978, "w": 0.1, "h": 0.0212}}, {"original": "â€»ã‚¢ã‚«ãƒ¬ãƒƒãƒ‰ã‚­ãƒ¼ã‚’ä¾‹ã«èª¬æ˜ã—ã¾ã™ã€‚", "translated": "*We will use the Aka Red Key as an example.", "bounds": {"x": 0.6717, "y": 0.3978, "w": 0.1013, "h": 0.0085}}, {"original": "â€»åˆ¥å£²ã‚Šã®ãƒ¢ãƒã‚¤ãƒ¬ãƒ¼ãƒ„-MEMORIAL EDITION- ã‚’ä½¿ç”¨ã—ã€ ã€Œé€šå¸¸èº«ãƒ¢ãƒ¼ãƒ‰ã€ã®çŠ¶æ…‹ã§è¡Œã„ã¾ã™ã€‚", "translated": "*This is done using the separately sold Mobirates -MEMORIAL EDITION- in \"normal mode.\"", "bounds": {"x": 0.6708, "y": 0.4105, "w": 0.2847, "h": 0.0091}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼æŒ¿å…¥å£ã«\nãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã‚’æŒ¿å…¥ã—ã¾ã™ã€‚\nâ†’æŒ¿å…¥éŸ³ãŒé³´ã‚Šã¾ã™ã€‚", "translated": "Insert your Ranger Key into the Ranger Key slot. \nâ†’ An insertion sound will play.", "bounds": {"x": 0.5481, "y": 0.448, "w": 0.1047, "h": 0.0417}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã‚’90Â° ã²ã­ã‚Šã¾ã™ã€‚\nâ†’ã‚¯ãƒ­ã‚¹ãƒœãƒ¼ãƒ³ãŒé–‹ãã€ ã²ã­ã‚ŠéŸ³ã¨\nãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã«å¿œã˜ãŸ\néŸ³å£°ãŒé³´ã‚Šã¾ã™ã€‚", "translated": "Twist the Ranger Key 90 degrees. \n-> The crossbones will open, and you will hear a twisting sound and a voiceover corresponding to the Ranger Key.", "bounds": {"x": 0.6892, "y": 0.448, "w": 0.1218, "h": 0.0568}}, {"original": "BGMãƒœã‚¿ãƒ³ã‚’2å›é•·æŠ¼ã—ã—ã¾ã™ã€‚\nâ†’æŒ¿å…¥ã•ã‚Œã¦ã„ã‚‹ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã«\nå¿œã˜ãŸã€Œã‚¹ãƒ¼ãƒ‘ãƒ¼æˆ¦éšŠãƒ’ãƒ¼ãƒ­ãƒ¼\nã‚²ãƒƒã‚¿ãƒ¼ã€ãŒé³´ã‚Šã¾ã™ã€‚", "translated": "Press and hold the BGM button twice. \nâ†’ The \"Super Sentai Hero Getter\" song corresponding to the inserted Ranger Key will play.", "bounds": {"x": 0.8478, "y": 0.4492, "w": 0.1261, "h": 0.0562}}, {"original": "ã‚­ãƒ¼ãƒ¢ãƒ¼ãƒ‰", "translated": "Key Mode", "bounds": {"x": 0.3942, "y": 0.5151, "w": 0.0436, "h": 0.0121}}, {"original": "ãƒ»ãƒ‹ãƒ³ã‚¸ãƒ£ãƒ¬ãƒƒãƒ‰ ã‚ªãƒ¼ãƒ¬ãƒƒãƒ‰ãƒ»ãƒ¬ãƒƒãƒ‰ãƒ¬ãƒ¼ã‚µãƒ¼\nãƒ»ãƒ¡ã‚¬ãƒ¬ãƒƒãƒ‰ãƒ»ã‚®ãƒ³ã‚¬ãƒ¬ãƒƒãƒ‰ãƒ»ã‚´ãƒ¼ãƒ¬ãƒƒãƒ‰\nã‚¿ã‚¤ãƒ ãƒ¬ãƒƒãƒ‰ãƒ»ã‚¬ã‚ªãƒ¬ãƒƒãƒ‰ãƒ»ãƒãƒªã‚±ãƒ³ãƒ¬ãƒƒãƒ‰", "translated": "Ninja Red Oh Red Red Racer\nMega Red Ginga Red Go Red\nTime Red Gao Red Hurricane Red", "bounds": {"x": 0.0496, "y": 0.4782, "w": 0.1783, "h": 0.0629}}, {"original": "ãƒ»ã‚¢ãƒãƒ¬ãƒƒãƒ‰ãƒ»ãƒ‡ã‚«ãƒ¬ãƒƒãƒ‰ãƒ»ãƒã‚¸ãƒ¬ãƒƒãƒ‰ãƒ»ãƒœã‚¦ã‚±ãƒ³ãƒ¬ãƒƒãƒ‰\nã‚²ã‚­ãƒ¬ãƒƒãƒ‰ãƒ»ã‚´ãƒ¼ã‚ªãƒ³ãƒ¬ãƒƒãƒ‰ãƒ»ã‚·ãƒ³ã‚±ãƒ³ãƒ¬ãƒƒãƒ‰", "translated": "ãƒ»AvaRed ãƒ»DekaRed ãƒ»MagiRed ãƒ»BoukenRed ãƒ»GekiRed ãƒ»Go-OnRed ãƒ»ShinkenRed", "bounds": {"x": 0.0351, "y": 0.5538, "w": 0.2074, "h": 0.0375}}, {"original": "ãƒ»ã‚´ã‚»ã‚¤ãƒ¬ãƒƒãƒ‰ãƒ»ã‚¢ã‚«ãƒ¬ãƒƒãƒ‰)", "translated": "ãƒ»Gosei Red ãƒ»Aka Red)", "bounds": {"x": 0.0872, "y": 0.6034, "w": 0.1052, "h": 0.0133}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ãƒ¢ãƒ¼ãƒ‰", "translated": "Ranger Mode", "bounds": {"x": 0.2852, "y": 0.5139, "w": 0.0658, "h": 0.0133}}, {"original": "å´é¢ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã“ã¨ã§ã€å¤‰å½¢ã™ã‚‹ã“ã¨ãŒ\nã§ãã¾ã™ã€‚", "translated": "You can transform it by pressing the button on the side.", "bounds": {"x": 0.2886, "y": 0.5441, "w": 0.1552, "h": 0.0266}}, {"original": "â‘  ä¸¡è…•ã‚’ä¸Šã’ã¾ã™ã€‚\nâ‘¡ å´é¢ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™ã€‚\nâ€»æ¢±åŒ…æ™‚ã¯ã‚­ãƒ¼ãƒ¢ãƒ¼ãƒ‰ã®çŠ¶æ…‹ã§ã™ã€‚\nä¸¡è…•ã¨è„šã‚’å±•é–‹ã—ã¦ã‹ã‚‰éŠã‚“ã§ãã ã•ã„ã€‚", "translated": "1. Raise both arms.\n2. Press the button on the side.\n*The figure is in key mode when packed.\nPlease unfold the arms and legs before playing.", "bounds": {"x": 0.2809, "y": 0.5852, "w": 0.1556, "h": 0.0568}}, {"original": "ã€å´é¢ã€‘", "translated": "ã€sideã€‘", "bounds": {"x": 0.8474, "y": 0.5266, "w": 0.0235, "h": 0.0121}}, {"original": "ã‚¢ã‚«ãƒ¬ãƒƒãƒ‰!", "translated": "Aka Red!", "bounds": {"x": 0.705, "y": 0.5828, "w": 0.0847, "h": 0.023}}, {"original": "ãƒœã‚¿ãƒ³", "translated": "button", "bounds": {"x": 0.8559, "y": 0.6264, "w": 0.0158, "h": 0.0073}}, {"original": "â–³æ³¨æ„ ãŠè²·ã„ä¸Šã’ã®ãŠå®¢æ§˜ã¸ å¿…ãšãŠèª­ã¿ãã ã•ã„ã€‚\nâ—æœ¬å•†å“ã®å¯¾è±¡å¹´é½¢ã¯15æ‰ä»¥ä¸Šã§ã™ã€‚ å¯¾è±¡å¹´é½¢æœªæº€ã®ãŠå­æ§˜ã«ã¯çµ¶å¯¾ã«ä¸ãˆãªã„ã§ãã ã•ã„ã€‚\nâ—å°ã•ãªéƒ¨å“ã€é›»æ± ãŒã‚ã‚Šã¾ã™ã®ã§ã€å°ã•ãªãŠå­æ§˜ãŒèª¤ã£ã¦é£²ã¿è¾¼ã¾ãªã„ã‚ˆã†ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚ çª’æ¯ãªã©ã®å±é™ºãŒã‚ã‚Šã¾ã™ã€‚\nâ—å°–ã£ãŸéƒ¨åˆ†ã‚„é‹­ã„éƒ¨åˆ†ãŒã‚ã‚Šã¾ã™ã®ã§ã€å–æ‰±ã‚„ä¿ç®¡å ´æ‰€ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚æ€ã‚ã¬ã‚±ã‚¬ã‚’ã™ã‚‹æã‚ŒãŒã‚ã‚Šã¾ã™ã€‚", "translated": "â–³Caution: Please read before purchasing.\nâ—This product is intended for use by children 15 years of age and older. Never give it to children under this age.\nâ—This product contains small parts and batteries, so please take care not to let small children swallow them. There is a risk of choking.\nâ—This product contains sharp or pointed parts, so please handle and store with care. There is a risk of unexpected injury.", "bounds": {"x": 0.0333, "y": 0.6898, "w": 0.4062, "h": 0.0629}}, {"original": "ã€Šä½¿ç”¨ä¸Šã®æ³¨æ„ã€‹", "translated": "<<Precautions for use>>", "bounds": {"x": 0.0265, "y": 0.7684, "w": 0.0641, "h": 0.0109}}, {"original": "â—æœ¬å•†å“ã¯ç²¾å¯†ã«ä½œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ç„¡ç†ãªåŠ›ã‚’åŠ ãˆãŸã‚Šã€ è½ã¨ã—ãŸã‚Šã™ã‚‹ã¨ç ´æã™ã‚‹æã‚ŒãŒã‚ã‚Šã¾ã™ã€‚\nâ—ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯æ¢±åŒ…æã¯é–‹å°å¾Œã¯ã™ãã«æ¨ã¦ã¦ãã ã•ã„ã€‚", "translated": "â—This product is precision manufactured. Applying excessive force to it or dropping it may cause damage. \nâ—Please discard the plastic packaging immediately after opening.", "bounds": {"x": 0.0321, "y": 0.786, "w": 0.3249, "h": 0.0278}}, {"original": "â—æœ¬å•†å“ã«ã¯å¡—è£…éƒ¨åˆ†ãŒã‚ã‚Šã¾ã™ã®ã§ã€ä¿ç®¡ã®éš›ã«ã¯ä»–ã®ã‚‚ã® (æ¨¹è„‚è£½å“ã‚„å®¶å…·ã€ ã‚½ãƒ•ã‚¡ãƒ¼)ã¨æ¥è§¦ã—ãªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚\nè‰²ãŒç§»ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚\nâ– å¯å‹•éƒ¨åˆ†ãƒ»å–ä»˜éƒ¨åˆ†ã‚’ç„¡ç†ãªæ–¹å‘ã«å¼·ãå¼•ã£å¼µã£ãŸã‚Šã€æ›²ã’ãŸã‚Šã—ãªã„ã§ãã ã•ã„ã€‚", "translated": "â—This product has painted parts, so when storing it, please avoid contact with other items (resin products, furniture, sofas).\nThe color may transfer.\nâ– Do not pull or bend the movable or attached parts with excessive force in any direction.", "bounds": {"x": 0.0333, "y": 0.8192, "w": 0.4327, "h": 0.0453}}, {"original": "ãŠå®ãƒŠãƒ“ã‚²ãƒ¼ãƒˆ", "translated": "Treasure Navigation", "bounds": {"x": 0.5485, "y": 0.7382, "w": 0.1069, "h": 0.0212}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼\næŒ¿å…¥å£ã«\nãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã‚’\næŒ¿å…¥ã—ã¾ã™ã€‚\nâ†’æŒ¿å…¥éŸ³ãŒ\né³´ã‚Šã¾ã™ã€‚", "translated": "Ranger Key\nInsert your Ranger Key into the slot.\nâ†’ An insertion sound will play.", "bounds": {"x": 0.5481, "y": 0.7884, "w": 0.0616, "h": 0.0877}}, {"original": "åˆã‚ã›ã¦ã”è¦§ãã ã•ã„ã€‚", "translated": "Please see also.", "bounds": {"x": 0.0735, "y": 0.8875, "w": 0.0898, "h": 0.0121}}, {"original": "ãƒ¢ãƒã‚¤ãƒ¬ãƒ¼ãƒ„ -MEMORIAL EDITION- ã®WEBå–èª¬ã¯ã€ã‚³ãƒãƒ©ã‹ã‚‰!!", "translated": "Click here for the Mobirates -MEMORIAL EDITION- web instruction manual!!", "bounds": {"x": 0.074, "y": 0.9069, "w": 0.2903, "h": 0.0127}}, {"original": "https://toy.bandai.co.jp/manuals/pdf.php?id=2588450", "translated": "https://toy.bandai.co.jp/manuals/pdf.php?id=2588450", "bounds": {"x": 0.1548, "y": 0.9335, "w": 0.1903, "h": 0.0115}}, {"original": "â—ç”»åƒã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚", "translated": "â—The image is for illustrative purposes only.", "bounds": {"x": 0.0274, "y": 0.9522, "w": 0.0594, "h": 0.0091}}, {"original": "â€»ã‚¢ã‚«ãƒ¬ãƒƒãƒ‰ã‚­ãƒ¼ã‚’ä¾‹ã«èª¬æ˜ã—ã¾ã™ã€‚", "translated": "*We will use the Aka Red Key as an example.", "bounds": {"x": 0.6708, "y": 0.7376, "w": 0.1022, "h": 0.0091}}, {"original": "â€»åˆ¥å£²ã‚Šã®ãƒ¢ãƒã‚¤ãƒ¬ãƒ¼ãƒ„-MEMORIAL EDITION- ã‚’ä½¿ç”¨ã—ã€ ã€ŒãŠå®ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã€ã®çŠ¶æ…‹ã§è¡Œã„ã¾ã™ã€‚", "translated": "*This is done using the separately sold Mobirates -MEMORIAL EDITION- in \"Treasure Navigation\" mode.", "bounds": {"x": 0.6708, "y": 0.7509, "w": 0.2835, "h": 0.0091}}, {"original": "ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã‚’\n90Â° ã²ã­ã‚Šã¾ã™ã€‚", "translated": "Twist the Ranger Key 90 degrees.", "bounds": {"x": 0.749, "y": 0.7878, "w": 0.0616, "h": 0.0284}}, {"original": "ã‚¯ãƒ­ã‚¹ãƒœãƒ¼ãƒ³ãŒé–‹ãã€ã²ã­ã‚ŠéŸ³ã¨\nã€Œãƒ¬ãƒƒãƒ„ãŠå®ãƒŠãƒ“ã‚²ãƒ¼ãƒˆ!ã€ãŒé³´ã‚Šã€", "translated": "The crossbone opens, making a twisting sound and the words \"Let's navigate the treasure!\" ringing out.", "bounds": {"x": 0.7567, "y": 0.8186, "w": 0.1214, "h": 0.0272}}, {"original": "æŒ¿å…¥ã•ã‚Œã¦ã„ã‚‹\nãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼ã‚­ãƒ¼ã«å¿œã˜ãŸ\néŸ³å£°ãŒé³´ã‚Šã¾ã™ã€‚", "translated": "A sound will be played depending on the Ranger Key inserted.", "bounds": {"x": 0.7567, "y": 0.8489, "w": 0.0872, "h": 0.0423}}, {"original": "èµ¤ãæµ·è³Šå›£ã®\nã‚­ãƒ£ãƒ—ãƒ†ãƒ³ã¯\nã„ã¥ã“ã«~?", "translated": "Where is the captain of the Red Pirates?", "bounds": {"x": 0.8046, "y": 0.9033, "w": 0.0812, "h": 0.052}}]}]};
        let currentPage = 0;

        const pagePanel = document.getElementById('pagePanel');
        const textList = document.getElementById('textList');
        const pageNav = document.getElementById('pageNav');
        const showOverlaysCheckbox = document.getElementById('showOverlays');

        // Clean text: collapse multiple spaces but preserve line breaks
        function cleanText(text) {
            return text.replace(/[^\S\n]+/g, ' ').trim();
        }

        // Format text for overlay: split at bullet points for better wrapping
        function formatOverlayText(text) {
            // Replace bullet markers with newline + marker for better line breaks
            return text
                .replace(/[^\S\n]+/g, ' ')  // collapse spaces but keep newlines
                .replace(/\s*([ãƒ»â€¢])/g, '\n$1')  // newline before bullets
                .trim();
        }

        function renderPageNav() {
            pageNav.innerHTML = '';
            data.pages.forEach((page, idx) => {
                const btn = document.createElement('button');
                btn.textContent = idx + 1;
                btn.className = idx === currentPage ? 'active' : '';
                btn.onclick = () => goToPage(idx);
                pageNav.appendChild(btn);
            });
        }

        function goToPage(idx) {
            currentPage = idx;
            renderPageNav();
            renderTextList();
            // Scroll to page
            const pageEl = document.getElementById(`page-${idx}`);
            if (pageEl) pageEl.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        function renderPages() {
            pagePanel.innerHTML = '';
            data.pages.forEach((page, idx) => {
                const pageDiv = document.createElement('div');
                pageDiv.className = 'page';
                pageDiv.id = `page-${idx}`;

                const img = document.createElement('img');
                img.src = page.image;
                img.alt = `Page ${idx + 1}`;
                img.onload = () => renderOverlays(pageDiv, page, idx);

                const label = document.createElement('div');
                label.className = 'page-label';
                label.textContent = `${idx + 1} / ${data.pages.length}`;

                pageDiv.appendChild(img);
                pageDiv.appendChild(label);
                pagePanel.appendChild(pageDiv);
            });
        }

        function renderOverlays(container, page, pageIdx) {
            container.querySelectorAll('.overlay').forEach(el => el.remove());

            page.blocks.forEach((block, blockIdx) => {
                const overlay = document.createElement('div');
                overlay.className = 'overlay';
                overlay.dataset.page = pageIdx;
                overlay.dataset.block = blockIdx;

                overlay.style.left = (block.bounds.x * 100) + '%';
                overlay.style.top = (block.bounds.y * 100) + '%';
                overlay.style.width = (block.bounds.w * 100) + '%';
                overlay.style.height = (block.bounds.h * 100) + '%';

                const text = formatOverlayText(block.translated);
                overlay.textContent = text;

                // Auto-shrink font to fit in box
                requestAnimationFrame(() => {
                    let fontSize = 12;
                    const minFontSize = 6;
                    overlay.style.fontSize = fontSize + 'px';

                    while (fontSize > minFontSize &&
                           (overlay.scrollHeight > overlay.clientHeight ||
                            overlay.scrollWidth > overlay.clientWidth)) {
                        fontSize -= 0.5;
                        overlay.style.fontSize = fontSize + 'px';
                    }
                });

                overlay.addEventListener('mouseenter', () => highlightEntry(pageIdx, blockIdx));
                overlay.addEventListener('mouseleave', () => clearHighlights());
                overlay.addEventListener('click', () => {
                    currentPage = pageIdx;
                    renderPageNav();
                    renderTextList();
                    scrollToEntry(blockIdx);
                });

                container.appendChild(overlay);
            });
        }

        function renderTextList() {
            textList.innerHTML = '';
            const page = data.pages[currentPage];
            if (!page) return;

            page.blocks.forEach((block, blockIdx) => {
                const entry = document.createElement('div');
                entry.className = 'text-entry';
                entry.dataset.page = currentPage;
                entry.dataset.block = blockIdx;

                entry.innerHTML = `
                    <div class="original">${escapeHtml(block.original)}</div>
                    <div class="translated">${escapeHtml(cleanText(block.translated))}</div>
                `;

                entry.addEventListener('mouseenter', () => highlightOverlay(currentPage, blockIdx));
                entry.addEventListener('mouseleave', () => clearHighlights());

                textList.appendChild(entry);
            });
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function highlightEntry(pageIdx, blockIdx) {
            clearHighlights();
            if (pageIdx !== currentPage) return;
            const entry = textList.querySelector(`[data-page="${pageIdx}"][data-block="${blockIdx}"]`);
            if (entry) {
                entry.classList.add('highlight');
                entry.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }

        function highlightOverlay(pageIdx, blockIdx) {
            clearHighlights();
            const overlay = pagePanel.querySelector(`[data-page="${pageIdx}"][data-block="${blockIdx}"]`);
            if (overlay) {
                overlay.classList.add('highlight');
            }
            const entry = textList.querySelector(`[data-page="${pageIdx}"][data-block="${blockIdx}"]`);
            if (entry) entry.classList.add('highlight');
        }

        function clearHighlights() {
            document.querySelectorAll('.highlight').forEach(el => el.classList.remove('highlight'));
        }

        function scrollToEntry(blockIdx) {
            const entry = textList.querySelector(`[data-block="${blockIdx}"]`);
            if (entry) entry.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        showOverlaysCheckbox.addEventListener('change', (e) => {
            document.querySelectorAll('.overlay').forEach(el => {
                el.classList.toggle('hidden', !e.target.checked);
            });
        });

        // Initialize
        renderPages();
        renderPageNav();
        renderTextList();

        // Update current page on scroll
        pagePanel.addEventListener('scroll', () => {
            const pages = pagePanel.querySelectorAll('.page');
            for (let i = pages.length - 1; i >= 0; i--) {
                const rect = pages[i].getBoundingClientRect();
                if (rect.top < 200) {
                    if (currentPage !== i) {
                        currentPage = i;
                        renderPageNav();
                        renderTextList();
                    }
                    break;
                }
            }
        });
    </script>
</body>
</html>